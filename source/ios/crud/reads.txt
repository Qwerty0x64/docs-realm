.. _ios-realm-database-reads:

=====
Reads
=====

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

.. |ref-stored| replace:: :doc:`stored </ios/crud/writes>`
.. |ref-read-characteristics| replace:: :ref:`read characteristics <ios-realm-read-characteristics>`

.. include:: /client-guides/crud/reads/overview.rst

.. _ios-read-from-realm:

Read from Realm Database
------------------------

.. |ref-sort-results| replace:: :ref:`sort <ios-sort-results>`

.. include:: /client-guides/crud/reads/read-from-realm.rst

.. admonition:: About the examples on this page
   :class: note

   The examples on this page use the data model of a project management app that
   has two {+service-short+} object types: ``Project`` and ``Task``. A
   ``Project`` has zero or more ``Tasks``.

   See the schema for these two classes, ``Project`` and ``Task``, below:

   .. tabs-realm-languages::
      
      .. tab::
         :tabid: swift
   
         .. literalinclude:: /examples/Schemas/ProjectAndTask.swift
            :language: swift
      
      .. tab::
         :tabid: objective-c
   
         .. literalinclude:: /examples/Schemas/ProjectAndTask.m
            :language: objective-c

.. _ios-get-all-objects:

Get All Objects
~~~~~~~~~~~~~~~

.. include:: /client-guides/crud/reads/get-all-objects.rst

.. example::

   In order to access all instances of ``Project`` and ``Task``, use the
   following syntax:

   .. tabs-realm-languages::
   
      .. tab::
         :tabid: objective-c
   
         .. literalinclude:: /examples/CRUD/Objects.m
            :language: objective-c
   
      .. tab::
         :tabid: swift
   
         .. literalinclude:: /examples/CRUD/Objects.swift
            :language: swift

.. _ios-filter-results:

Filter Results
~~~~~~~~~~~~~~

.. include:: /client-guides/crud/reads/filter-results.rst

.. example::

   In the following example, we use the query
   engine's comparison operators to:

   - Find high priority tasks by comparing the value of the ``priority`` property value with a threshold number, above which priority can be considered high.
   - Find just-started or short-running tasks by seeing if the ``progressMinutes`` property falls within a certain range.
   - Find unassigned tasks by finding tasks where the ``assignee`` property is equal to null.
   - Find tasks assigned to specific teammates Ali or Jamie by seeing if the ``assignee`` property is in a list of names.

   .. tabs-realm-languages::
   
      .. tab::
         :tabid: objective-c
   
         .. literalinclude:: /examples/Query/Comparison.m
            :language: objective-c
   
      .. tab::
         :tabid: swift
   
         .. literalinclude:: /examples/Query/Comparison.swift
            :language: swift

.. _ios-sort-results:

Sort Results
~~~~~~~~~~~~

.. include:: /client-guides/crud/reads/sort-results.rst

.. example::

   The following code sorts the projects by name in reverse
   alphabetical order (i.e. "descending" order).

   .. tabs-realm-languages::
   
      .. tab::
         :tabid: objective-c
   
         .. literalinclude:: /examples/CRUD/Sort.m
            :language: objective-c
   
      .. tab::
         :tabid: swift
   
         .. literalinclude:: /examples/CRUD/Sort.swift
            :language: swift


.. _ios-realm-read-characteristics:

Read Characteristics
--------------------

.. include:: /client-guides/crud/reads/realm-read-characteristics.rst

.. _ios-results-are-not-copies:

Results Are Not Copies
~~~~~~~~~~~~~~~~~~~~~~

.. include:: /client-guides/crud/reads/results-are-not-copies.rst

.. _ios-results-are-lazy:

Results Are Lazy
~~~~~~~~~~~~~~~~

.. include:: /client-guides/crud/reads/results-are-lazy.rst

.. _ios-references-retained:

References Are Retained
~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /client-guides/crud/reads/references-retained.rst

Summary
-------

- To read from {+client-database+}, first get all objects of a certain type from the {+realm+}, then filter using the query engine, then (optionally) sort the results.
- When you read, the results are not copies. Instead, through memory mapping, results point directly to the version on disk.
- Queries are lazily-evaluated.
